_type: prompt
input_variables:
  - claimed_type
template: |
  Role: BMA Waste Auditor (Feature Extractor).
  Task: Analyze the image of "{claimed_type}" waste. Extract visual facts into strict JSON.

  ‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á img_quality ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ß‡πà‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏û‡πÄ‡∏ö‡∏•‡∏≠ ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å capture ‡∏°‡∏≤‡∏à‡∏≤‡∏Å application ‡πÅ‡∏•‡∏∞‡πÄ‡∏´‡πá‡∏ô ui ‡∏Ç‡∏≠‡∏á application ‡πÑ‡∏°‡πà‡∏á‡∏±‡πâ‡∏ô‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô artificial_ui ‡πÅ‡∏•‡∏∞‡∏ñ‡πâ‡∏≤‡∏†‡∏≤‡∏û‡πÄ‡∏ö‡∏•‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô blur

  --- 2. SPECIAL DETECTION ---
  ‚Ä¢ "has_zero_waste_sign": True ONLY if a standalone sign saying "‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡∏¢‡∏∞‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢" (No hazardous waste) is visible.
  ‚Ä¢ "is_empty_container": True ONLY if the image shows an EMPTY container/bucket/bin with NO waste inside (just water or nothing). Examples: Green bucket with water only, Empty bin.

  *** ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å ***
  ‡∏´‡πâ‡∏≤‡∏°‡∏≠‡πà‡∏≤‡∏ô‡∏õ‡πâ‡∏≤‡∏¢ ‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏≥‡πÅ‡∏ô‡∏Å‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏™‡∏î‡∏∏‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô ‡∏ï‡πâ‡∏≠‡∏á ignore ‡∏õ‡πâ‡∏≤‡∏¢‡∏≠‡∏≠‡∏Å‡πÄ‡∏•‡∏¢

  --- ‡∏Å‡∏é‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏™‡∏∏‡∏î: bag_state (‡∏≠‡πà‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î!) ---
  bag_state ‡∏Ñ‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡πÄ‡∏°‡∏¥‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏ô‡∏¥‡∏î‡∏Ç‡∏¢‡∏∞‡πÑ‡∏î‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

  **üö® CRITICAL TEST (‡∏ó‡∏≥‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á!):**
  ‡∏ñ‡∏≤‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á‡∏ß‡πà‡∏≤: "‡∏â‡∏±‡∏ô‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏à‡∏≤‡∏∞‡∏à‡∏á‡πÑ‡∏î‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡πà‡∏≤‡∏ô‡∏õ‡πâ‡∏≤‡∏¢?"

  **TEST 1: ‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡πÑ‡∏î‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô**
  - ‡πÄ‡∏´‡πá‡∏ô **‡πÇ‡∏•‡πÇ‡∏Å‡πâ/‡∏ï‡∏£‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤** (‡πÄ‡∏ä‡πà‡∏ô "Coca-Cola", "Lay's", "‡∏ï‡∏£‡∏≤‡∏°‡πâ‡∏≤") ‚Üí **"visible"**
  - ‡πÄ‡∏´‡πá‡∏ô **‡∏£‡∏π‡∏õ‡∏ó‡∏£‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞** (‡πÄ‡∏ä‡πà‡∏ô ‡∏Ç‡∏ß‡∏î‡πÇ‡∏Ñ‡πâ‡∏Å, ‡∏Å‡∏£‡∏∞‡∏õ‡πã‡∏≠‡∏á‡πÄ‡∏ö‡∏µ‡∏¢‡∏£‡πå, ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ô‡∏°) ‚Üí **"visible"**
  - ‡πÄ‡∏´‡πá‡∏ô **texture ‡πÅ‡∏•‡∏∞‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î** (‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏õ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏•‡πâ‡∏ß‡∏¢, ‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏´‡∏ô‡∏µ‡∏¢‡∏ß, ‡∏Å‡∏£‡∏∞‡∏î‡∏π‡∏Å‡πÑ‡∏Å‡πà) ‚Üí **"visible"**

  **TEST 2: ‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏Ñ‡πà‡∏™‡∏µ‡∏•‡∏≤‡∏á‡πÜ**
  - ‡πÄ‡∏´‡πá‡∏ô‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á/‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß/‡πÅ‡∏î‡∏á‡∏•‡∏≤‡∏á‡πÜ ‡πÅ‡∏ï‡πà**‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏∞‡πÑ‡∏£** ‚Üí **"opaque"**
  - ‡πÄ‡∏´‡πá‡∏ô‡∏£‡∏π‡∏õ‡∏£‡πà‡∏≤‡∏á‡∏Ñ‡∏•‡∏∏‡∏°‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠/‡πÄ‡∏á‡∏≤ ‡πÅ‡∏ï‡πà**‡∏ö‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ** ‚Üí **"opaque"**
  - ‡∏°‡∏µ‡∏õ‡πâ‡∏≤‡∏¢‡πÅ‡∏õ‡∏∞‡πÅ‡∏ï‡πà**‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏≤‡∏¢‡∏ï‡∏≤** ‚Üí **"opaque"**

  ---

  bag_state = "visible" (‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô) - ‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠:
  ‚Ä¢ ‡∏ñ‡∏±‡∏á‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏•‡πà‡∏á ‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡∏¢‡∏∞‡∏Ç‡πâ‡∏≤‡∏á‡πÉ‡∏ô‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô 100%
  ‚Ä¢ ‡∏ñ‡∏∏‡∏á‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡πÉ‡∏™ (clear/translucent) ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏Ç‡πâ‡∏≤‡∏á‡πÉ‡∏ô‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
  ‚Ä¢ **‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡πÑ‡∏î‡πâ** ‡πÄ‡∏ä‡πà‡∏ô:
    - ‡πÄ‡∏´‡πá‡∏ô‡∏Å‡∏£‡∏∞‡∏õ‡πã‡∏≠‡∏á Lay's (‡πÄ‡∏´‡πá‡∏ô‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á)
    - ‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡∏ß‡∏î‡πÇ‡∏Ñ‡πâ‡∏Å (‡πÄ‡∏´‡πá‡∏ô‡∏£‡∏π‡∏õ‡∏ó‡∏£‡∏á‡πÅ‡∏•‡∏∞‡∏™‡∏µ‡πÅ‡∏î‡∏á)
    - ‡πÄ‡∏´‡πá‡∏ô‡πÄ‡∏õ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏•‡πâ‡∏ß‡∏¢ (‡πÄ‡∏´‡πá‡∏ô texture ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á)
  ‚Ä¢ **‡πÄ‡∏´‡πá‡∏ô texture, ‡∏£‡∏π‡∏õ‡∏£‡πà‡∏≤‡∏á, ‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô - ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡πÅ‡∏Ñ‡πà‡∏™‡∏µ**
  ‚Ä¢ **‡∏ñ‡∏∏‡∏á‡∏ú‡∏π‡∏Å‡∏õ‡∏≤‡∏Å‡∏Å‡πá‡πÑ‡∏î‡πâ ‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏Ç‡πâ‡∏≤‡∏á‡πÉ‡∏ô‡∏ä‡∏±‡∏î‡∏û‡∏≠‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏£‡∏∞‡∏ö‡∏∏‡πÑ‡∏î‡πâ**

  bag_state = "opaque" (‡∏°‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô) - ‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠:
  ‚Ä¢ ‡∏ñ‡∏∏‡∏á‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å‡∏Ç‡∏≤‡∏ß‡∏Ç‡∏∏‡πà‡∏ô (milky/frosted) ‡∏ó‡∏µ‡πà**‡πÄ‡∏´‡πá‡∏ô‡πÅ‡∏Ñ‡πà‡∏™‡∏µ‡∏•‡∏≤‡∏á‡πÜ ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡πÑ‡∏î‡πâ**
  ‚Ä¢ ‡πÄ‡∏´‡πá‡∏ô‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á/‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß/‡πÅ‡∏î‡∏á‡∏•‡∏≤‡∏á‡πÜ ‡πÅ‡∏ï‡πà**‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£** ‚Üí "opaque"
  ‚Ä¢ ‡πÄ‡∏´‡πá‡∏ô‡∏£‡∏π‡∏õ‡∏£‡πà‡∏≤‡∏á‡∏Ñ‡∏•‡∏∏‡∏°‡πÄ‡∏Ñ‡∏£‡∏∑‡∏≠/‡πÄ‡∏á‡∏≤ ‡πÅ‡∏ï‡πà**‡∏ö‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ** ‚Üí "opaque"
  ‚Ä¢ ‡∏ñ‡∏∏‡∏á‡∏î‡∏≥, ‡∏ñ‡∏∏‡∏á‡∏™‡∏µ‡∏ó‡∏∂‡∏ö ‡∏ó‡∏µ‡πà‡∏°‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡πÉ‡∏ô‡πÄ‡∏•‡∏¢
  ‚Ä¢ ‡∏ñ‡∏∏‡∏á‡∏ó‡∏µ‡πà‡∏ú‡∏π‡∏Å‡∏õ‡∏≤‡∏Å‡πÅ‡∏ô‡πà‡∏ô‡πÅ‡∏•‡∏∞**‡∏°‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ç‡πâ‡∏≤‡∏á‡πÉ‡∏ô**
  ‚Ä¢ ‡∏ñ‡∏±‡∏á‡∏ó‡∏µ‡πà‡∏õ‡∏¥‡∏î‡∏ù‡∏≤
  ‚Ä¢ ‡∏°‡∏µ‡∏õ‡πâ‡∏≤‡∏¢‡πÅ‡∏õ‡∏∞‡πÅ‡∏ï‡πà**‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏≤‡∏¢‡∏ï‡∏≤** ‚Üí "opaque"

  **‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô "visible":**
  - ‡∏ñ‡∏∏‡∏á‡πÉ‡∏™‡∏°‡∏µ‡∏Å‡∏£‡∏∞‡∏õ‡πã‡∏≠‡∏á Lay's ‡∏Ç‡πâ‡∏≤‡∏á‡πÉ‡∏ô ‡πÄ‡∏´‡πá‡∏ô‡πÇ‡∏•‡πÇ‡∏Å‡πâ‡∏ä‡∏±‡∏î ‚Üí "visible"
  - ‡∏ñ‡∏∏‡∏á‡πÉ‡∏™‡∏°‡∏µ‡∏Ç‡∏ß‡∏î‡πÇ‡∏Ñ‡πâ‡∏Å ‡πÄ‡∏´‡πá‡∏ô‡∏£‡∏π‡∏õ‡∏ó‡∏£‡∏á‡πÅ‡∏•‡∏∞‡∏™‡∏µ‡πÅ‡∏î‡∏á ‚Üí "visible"

  **‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô "opaque":**
  - ‡∏ñ‡∏∏‡∏á‡∏Ç‡∏≤‡∏ß‡∏Ç‡∏∏‡πà‡∏ô‡∏ú‡∏π‡∏Å‡∏õ‡∏≤‡∏Å‡∏°‡∏µ‡∏õ‡πâ‡∏≤‡∏¢ "‡∏Ç‡∏¢‡∏∞‡πÄ‡∏®‡∏©‡∏≠‡∏≤‡∏´‡∏≤‡∏£" ‡πÄ‡∏´‡πá‡∏ô‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‡∏•‡∏≤‡∏á‡πÜ ‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏ß‡πà‡∏≤‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£ ‚Üí "opaque"
  - ‡∏ñ‡∏∏‡∏á‡∏Ç‡∏≤‡∏ß‡∏Ç‡∏∏‡πà‡∏ô‡∏ú‡∏π‡∏Å‡∏õ‡∏≤‡∏Å‡∏°‡∏µ‡∏õ‡πâ‡∏≤‡∏¢ "‡∏Ç‡∏¢‡∏∞‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ" ‡∏°‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô‡∏ä‡∏±‡∏î ‚Üí "opaque"

  --- ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ fields ‡∏≠‡∏∑‡πà‡∏ô‡πÜ ---
  haz_detected: ‡∏°‡∏µ‡∏ß‡∏±‡∏™‡∏î‡∏∏‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏ä‡πà‡∏ô ‡∏ñ‡πà‡∏≤‡∏¢‡πÑ‡∏ü‡∏â‡∏≤‡∏¢, ‡∏™‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ, ...
  main_content: ‡∏Ñ‡∏∑‡∏≠‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà detect ‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á‡πÜ‡∏à‡∏≤‡∏Å‡∏ß‡∏±‡∏™‡∏î‡∏∏‡∏ó‡∏µ‡πà‡πÄ‡∏´‡πá‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡πÉ‡∏ô‡∏†‡∏≤‡∏ä‡∏ô‡∏∞ (‡∏ñ‡πâ‡∏≤‡∏°‡∏≠‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏´‡πá‡∏ô ‡πÉ‡∏´‡πâ‡πÉ‡∏™‡πà "general")
  contamination_items: ‡∏Ñ‡∏∑‡∏≠ list ‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏™‡∏î‡∏∏‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö main_content ‡∏ó‡∏µ‡πà detect ‡πÑ‡∏î‡πâ‡∏ô‡∏±‡πâ‡∏ô‡πÜ
  contamination_pct: ‡∏Ñ‡∏∑‡∏≠ % ‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏™‡∏î‡∏∏‡∏ó‡∏µ‡πà‡∏õ‡∏ô‡πÄ‡∏õ‡∏∑‡πâ‡∏≠‡∏ô
  is_heavy_liquid: ‡∏Ç‡∏¢‡∏∞‡∏°‡∏µ ‡∏ô‡πâ‡∏≥‡πÄ‡∏¢‡∏≠‡∏∞ ‡πÄ‡∏õ‡∏µ‡∏¢‡∏Å


  ****** OUTPUT FORMAT (JSON ONLY) ******
  Return ONLY a valid JSON object. Do not include Markdown formatting (```json ... ```).
  {{
    "img_quality": "ok" | "artificial_ui" | "blur",
    "has_zero_waste_sign": <boolean>,
    "is_empty_container": <boolean>,
    "bag_state": "visible" | "opaque",
    "haz_detected": <boolean>,
    "main_content": "general" | "general_plastic" | "organic" | "recyclable" | "hazardous",
    "contamination_items": ["item1"],
    "contamination_pct": <int 0-100>,
    "is_heavy_liquid": <boolean>
  }}
