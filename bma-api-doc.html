<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BMA Integration API Documentation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;700&family=IBM+Plex+Mono:wght@400;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Sarabun', 'Tahoma', 'Arial', sans-serif;
            line-height: 1.8;
            color: #2c3e50;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px 20px;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            padding: 60px;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        h1 {
            color: #667eea;
            font-size: 42px;
            font-weight: 700;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 4px solid #667eea;
            text-align: center;
        }

        h2 {
            color: #764ba2;
            font-size: 32px;
            font-weight: 600;
            margin-top: 50px;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 3px solid #e0e0e0;
        }

        h3 {
            color: #667eea;
            font-size: 26px;
            font-weight: 600;
            margin-top: 35px;
            margin-bottom: 20px;
        }

        h4 {
            color: #555;
            font-size: 20px;
            font-weight: 600;
            margin-top: 25px;
            margin-bottom: 15px;
            padding-left: 15px;
            border-left: 4px solid #667eea;
        }

        p {
            margin: 15px 0;
            font-size: 16px;
            line-height: 1.8;
        }

        code {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'IBM Plex Mono', 'Monaco', 'Courier New', monospace;
            font-size: 14px;
            color: #e74c3c;
            font-weight: 600;
        }

        pre {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 25px;
            border-radius: 8px;
            overflow-x: auto;
            overflow-wrap: break-word;
            word-wrap: break-word;
            word-break: break-all;
            white-space: pre-wrap;
            margin: 25px 0;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        pre code {
            background: transparent;
            color: #ecf0f1;
            padding: 0;
            font-size: 14px;
            font-weight: 400;
            word-break: break-all;
            white-space: pre-wrap;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 25px 0;
            font-size: 15px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            border-radius: 8px;
            overflow: hidden;
        }

        thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        th {
            padding: 15px;
            text-align: left;
            font-weight: 600;
            font-size: 16px;
        }

        td {
            padding: 15px;
            border-bottom: 1px solid #e0e0e0;
        }

        tr:nth-child(even) {
            background-color: #f8f9fa;
        }

        tr:hover {
            background-color: #f0f0f0;
            transition: background-color 0.3s;
        }

        ul, ol {
            margin: 15px 0;
            padding-left: 40px;
        }

        li {
            margin: 10px 0;
            font-size: 16px;
        }

        hr {
            border: none;
            border-top: 2px solid #e0e0e0;
            margin: 40px 0;
        }

        strong {
            font-weight: 600;
            color: #2c3e50;
        }

        a {
            color: #667eea;
            text-decoration: none;
            border-bottom: 2px solid transparent;
            transition: border-color 0.3s;
        }

        a:hover {
            border-bottom: 2px solid #667eea;
        }

        blockquote {
            border-left: 5px solid #667eea;
            padding-left: 20px;
            margin: 25px 0;
            color: #555;
            font-style: italic;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
        }

        /* Print styles */
        @media print {
            body {
                background: white;
                padding: 0;
            }

            .container {
                box-shadow: none;
                padding: 40px;
            }

            h1 {
                page-break-before: avoid;
            }

            h2 {
                page-break-before: always;
            }

            h2:first-of-type {
                page-break-before: avoid;
            }

            pre, table {
                page-break-inside: avoid;
            }

            pre {
                overflow-x: visible;
                word-break: break-all;
                white-space: pre-wrap;
            }

            pre code {
                word-break: break-all;
                white-space: pre-wrap;
            }
        }

        /* Warning boxes */
        p:has(> strong:first-child) {
            background: linear-gradient(135deg, #fff9e6 0%, #ffe8cc 100%);
            border-left: 5px solid #ff9800;
            padding: 20px;
            margin: 25px 0;
            border-radius: 5px;
            box-shadow: 0 2px 10px rgba(255, 152, 0, 0.2);
        }

        /* Code examples */
        .language-json,
        .language-javascript,
        .language-python {
            font-size: 13px;
        }

        /* Print button */
        .print-button {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            transition: transform 0.3s, box-shadow 0.3s;
            font-family: 'Sarabun', sans-serif;
        }

        .print-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        /* JWT Token Container */
        .jwt-container {
            position: relative;
            margin: 25px 0;
            background: #f8f9fa;
            border: 2px solid #667eea;
            border-radius: 8px;
            padding: 20px;
        }

        .jwt-token {
            font-family: 'IBM Plex Mono', 'Monaco', 'Courier New', monospace;
            font-size: 13px;
            color: #2c3e50;
            background: white;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #e0e0e0;
            word-break: break-all;
            overflow-wrap: break-word;
            line-height: 1.8;
            user-select: all;
            -webkit-user-select: all;
            -moz-user-select: all;
            -ms-user-select: all;
        }

        .copy-jwt-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 5px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            font-family: 'Sarabun', sans-serif;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .copy-jwt-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.5);
        }

        .copy-jwt-btn:active {
            transform: translateY(0);
        }

        .copy-feedback {
            display: none;
            position: absolute;
            top: 15px;
            right: 15px;
            background: #10b981;
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            font-size: 14px;
            font-weight: 600;
            font-family: 'Sarabun', sans-serif;
            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
        }

        .copy-feedback.show {
            display: block;
        }

        @media print {
            .print-button {
                display: none;
            }

            .copy-jwt-btn {
                display: none;
            }

            .copy-feedback {
                display: none;
            }

            .jwt-token {
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <button class="print-button" onclick="window.print()">üñ®Ô∏è ‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏õ‡πá‡∏ô PDF</button>
    <div class="container">
        <h1 id="‡∏Ñ‡∏°‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡∏á‡∏≤‡∏ô-bma-integration-api">‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô BMA Integration API</h1>

<h2 id="‡πÄ‡∏£‡∏°‡∏ï‡∏ô‡πÉ‡∏ä‡∏á‡∏≤‡∏ô">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h2>

<h3 id="‡∏Ç‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó-1-‡πÄ‡∏Ç‡∏≤‡∏ñ‡∏á-swagger-documentation">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1: ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á Swagger Documentation</h3>

<p>‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ß‡πá‡∏ö‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÅ‡∏•‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏õ‡∏ó‡∏µ‡πà:</p>

<pre><code>https://api.geppdata.com/v1/docs/bma/0a70bf9ef2fcb7c2dc6c2b046ebb052c
</code></pre>

<h3 id="‡∏Ç‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó-2-‡πÉ‡∏ä‡∏á‡∏≤‡∏ô-jwt-token">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô JWT Token</h3>

<p><strong>JWT Token ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö:</strong></p>

<div class="jwt-container">
                <div class="jwt-token" id="jwt-token">eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoyNiwib3JnYW5pemF0aW9uX2lkIjo4LCJlbWFpbCI6ImJtYUBnZXBwLm1lIiwidHlwZSI6ImludGVncmF0aW9uIiwiZXhwIjoxNzYyMjM4NTA2LCJpYXQiOjE3NjE2MzM3MDZ9.q1v6QIH_14c_sNAomOYvoMYNmmlPhgPBPyTsA4KB1Oo</div>
                <button class="copy-jwt-btn" onclick="copyJWT()" title="‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å JWT Token">
                    üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å
                </button>
                <span class="copy-feedback" id="copy-feedback">‚úÖ ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß!</span>
            </div>

<p><strong>‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:</strong><br />
1. ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å JWT Token ‡∏Ç‡πâ‡∏≤‡∏á‡∏ï‡πâ‡∏ô<br />
2. ‡πÉ‡∏ô Swagger UI ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏õ‡∏∏‡πà‡∏° <strong>"Authorize"</strong> ‡∏ó‡∏µ‡πà‡∏°‡∏∏‡∏°‡∏ö‡∏ô‡∏Ç‡∏ß‡∏≤<br />
3. ‡∏ß‡∏≤‡∏á Token ‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏á Value (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏™‡πà‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ "Bearer" ‡∏Ç‡πâ‡∏≤‡∏á‡∏´‡∏ô‡πâ‡∏≤)<br />
4. ‡∏Ñ‡∏•‡∏¥‡∏Å <strong>"Authorize"</strong> ‡πÅ‡∏•‡πâ‡∏ß‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á</p>

<p><strong>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:</strong> ‡πÉ‡∏ä‡πâ Token ‡∏ô‡∏µ‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏Å <code>/api/auth/integration</code> ‡∏Å‡πà‡∏≠‡∏ô</p>

<hr />

<h2 id="‡∏Ç‡∏≠‡∏°‡∏•‡∏™‡∏≤‡∏Ñ‡∏ç">‚ö†Ô∏è ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç</h2>

<p><strong>origin_id ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö API ‡∏ô‡∏µ‡πâ:</strong><br />
- ‡πÉ‡∏ä‡πâ‡∏Ñ‡πà‡∏≤ <strong>2170</strong> ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô<br />
- ‡πÅ‡∏ó‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà: <strong>‡πÅ‡∏Ç‡∏ß‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏ô‡∏ô‡∏ó‡∏£‡∏µ</strong><br />
- ‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô Mock Data ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö API version ‡∏ô‡∏µ‡πâ<br />
- ‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏° origin_id ‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏Ç‡∏ß‡∏á‡∏ï‡πà‡∏≤‡∏á‡πÜ</p>

<p><strong>‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏ä‡πâ origin_id ‡∏≠‡∏∑‡πà‡∏ô‡∏ô‡∏≠‡∏Å‡πÄ‡∏´‡∏ô‡∏∑‡∏≠‡∏à‡∏≤‡∏Å 2170</strong> ‡∏°‡∏¥‡∏â‡∏∞‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö Error</p>

<hr />

<h2 id="‡∏Ñ‡∏≤‡∏®‡∏û‡∏ó‡πÅ‡∏•‡∏∞‡∏ï‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏≤‡∏Ñ‡∏ç">‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç</h2>

<h3 id="1-‡∏ï‡∏ß‡∏£‡∏∞‡∏ö‡∏Ç‡∏≠‡∏°‡∏•-identifiers">1. ‡∏ï‡∏±‡∏ß‡∏£‡∏∞‡∏ö‡∏∏‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (Identifiers)</h3>

<h4 id="transaction_version-ext_id_1"><code>transaction_version</code> (ext_id_1)</h4>

<ul>
<li><strong>‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£</strong>: ‡∏£‡∏∏‡πà‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• ‡πÄ‡∏ä‡πà‡∏ô "v2025-Q1", "v2025-Q2"</li>
<li><strong>‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö</strong>: ‡πÉ‡∏ä‡πâ‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö vYYYY-XX ‡∏ã‡∏∂‡πà‡∏á‡∏≠‡∏≤‡∏à‡∏´‡∏°‡∏≤‡∏¢‡∏ñ‡∏∂‡∏á‡πÑ‡∏ï‡∏£‡∏°‡∏≤‡∏™ ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏õ‡∏µ‡∏ô‡∏±‡πâ‡∏ô‡πÜ‡πÑ‡∏î‡πâ</li>
<li><strong>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</strong>: <code>"v2025-Q1"</code>, <code>"v2025-Q2"</code>, <code>"v2025-10"</code></li>
<li><strong>‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå</strong>: ‡πÉ‡∏ä‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ï‡∏≤‡∏°‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏≠‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</li>
</ul>

<h4 id="house_id-ext_id_2"><code>house_id</code> (ext_id_2)</h4>

<ul>
<li><strong>‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£</strong>: ‡∏£‡∏´‡∏±‡∏™‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà</li>
<li><strong>‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</strong>: ‡πÄ‡∏•‡∏Ç 11 ‡∏´‡∏•‡∏±‡∏Å ‡πÄ‡∏ä‡πà‡∏ô <code>"00000000001"</code>, <code>"00000000002"</code></li>
<li><strong>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</strong>: <code>"00000000001"</code> (‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà 1), <code>"00000000123"</code> (‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà 123)</li>
<li><strong>‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•</strong>: ‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠</li>
</ul>

<h4 id="origin_id"><code>origin_id</code></h4>

<ul>
<li><strong>‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£</strong>: ‡∏£‡∏´‡∏±‡∏™‡∏à‡∏∏‡∏î‡∏£‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢</li>
<li><strong>‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ</strong>: <strong>2170 ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</strong></li>
<li><strong>origin_name</strong>: "‡πÅ‡∏Ç‡∏ß‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏ô‡∏ô‡∏ó‡∏£‡∏µ"</li>
<li><strong>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</strong>:
<ul>
<li>‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞ origin_id 2170 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö BMA</li>
<li>‡∏£‡∏´‡∏±‡∏™ 2170 ‡πÅ‡∏ó‡∏ô‡πÅ‡∏Ç‡∏ß‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏ô‡∏ô‡∏ó‡∏£‡∏µ ‡∏ã‡∏∂‡πà‡∏á‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡πá‡∏ô Mock Data ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö API version ‡∏ô‡∏µ‡πâ</li>
<li>‡πÉ‡∏ô‡∏≠‡∏ô‡∏≤‡∏Ñ‡∏ï‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏° origin_id ‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏Ç‡∏ß‡∏á‡∏≠‡∏∑‡πà‡∏ô‡πÜ</li>
</ul></li>
</ul>

<h3 id="2-‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏¢‡∏∞-material-types">2. ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏¢‡∏∞ (Material Types)</h3>

<table>
<thead>
<tr>
  <th>‡∏ä‡∏∑‡πà‡∏≠‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©</th>
  <th>‡∏ä‡∏∑‡πà‡∏≠‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢</th>
  <th>material_id</th>
  <th>‡πÉ‡∏ä‡πâ‡πÉ‡∏ô API</th>
</tr>
</thead>
<tbody>
<tr>
  <td><strong>general</strong></td>
  <td>‡∏Ç‡∏¢‡∏∞‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</td>
  <td>94</td>
  <td><code>"general"</code></td>
</tr>
<tr>
  <td><strong>organic</strong></td>
  <td>‡∏Ç‡∏¢‡∏∞‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏µ‡∏¢‡πå/‡∏≠‡∏≤‡∏´‡∏≤‡∏£</td>
  <td>77</td>
  <td><code>"organic"</code></td>
</tr>
<tr>
  <td><strong>recyclable</strong></td>
  <td>‡∏Ç‡∏¢‡∏∞‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•</td>
  <td>298</td>
  <td><code>"recyclable"</code></td>
</tr>
<tr>
  <td><strong>hazardous</strong></td>
  <td>‡∏Ç‡∏¢‡∏∞‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢</td>
  <td>113</td>
  <td><code>"hazardous"</code></td>
</tr>
</tbody>
</table>

<p><strong>‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:</strong><br />
- <strong>general</strong>: ‡∏Ç‡∏¢‡∏∞‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ô‡∏≥‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ<br />
- <strong>organic</strong>: ‡∏Ç‡∏¢‡∏∞‡πÄ‡∏õ‡∏µ‡∏¢‡∏Å ‡πÄ‡∏®‡∏©‡∏≠‡∏≤‡∏´‡∏≤‡∏£ ‡πÄ‡∏®‡∏©‡∏û‡∏∑‡∏ä<br />
- <strong>recyclable</strong>: ‡∏Ç‡∏¢‡∏∞‡πÅ‡∏´‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ô‡∏≥‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡πÉ‡∏´‡∏°‡πà‡πÑ‡∏î‡πâ ‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏© ‡∏û‡∏•‡∏≤‡∏™‡∏ï‡∏¥‡∏Å<br />
- <strong>hazardous</strong>: ‡∏Ç‡∏¢‡∏∞‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢ ‡πÄ‡∏ä‡πà‡∏ô ‡πÅ‡∏ö‡∏ï‡πÄ‡∏ï‡∏≠‡∏£‡∏µ‡πà ‡∏™‡∏≤‡∏£‡πÄ‡∏Ñ‡∏°‡∏µ</p>

<h3 id="3-pagination-‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡∏á‡∏´‡∏ô‡∏≤">3. Pagination (‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡πà‡∏á‡∏´‡∏ô‡πâ‡∏≤)</h3>

<h4 id="limit"><code>limit</code></h4>

<ul>
<li><strong>‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£</strong>: ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤</li>
<li><strong>‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</strong>: 100</li>
<li><strong>‡∏Ñ‡πà‡∏≤‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</strong>: 1000</li>
<li><strong>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</strong>: <code>?limit=50</code> (‡πÅ‡∏™‡∏î‡∏á 50 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤)</li>
</ul>

<h4 id="page"><code>page</code></h4>

<ul>
<li><strong>‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£</strong>: ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏´‡∏ô‡πâ‡∏≤</li>
<li><strong>‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</strong>: 1</li>
<li><strong>‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏ö‡∏à‡∏≤‡∏Å</strong>: 1 (‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å‡∏Ñ‡∏∑‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà 1)</li>
<li><strong>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</strong>: <code>?page=2</code> (‡πÅ‡∏™‡∏î‡∏á‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà 2)</li>
</ul>

<p><strong>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Pagination ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤:</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;pagination&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;page&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">              </span><span class="c1">// ‡∏´‡∏ô‡πâ‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</span>
<span class="w">    </span><span class="nt">&quot;limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">           </span><span class="c1">// ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤</span>
<span class="w">    </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span><span class="w">           </span><span class="c1">// ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
<span class="w">    </span><span class="nt">&quot;total_pages&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">       </span><span class="c1">// ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
<span class="w">    </span><span class="nt">&quot;has_next&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">       </span><span class="c1">// ‡∏°‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡∏ñ‡∏±‡∏î‡πÑ‡∏õ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà</span>
<span class="w">    </span><span class="nt">&quot;has_prev&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">       </span><span class="c1">// ‡∏°‡∏µ‡∏´‡∏ô‡πâ‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<h3 id="4-quota-‡πÅ‡∏•‡∏∞-usage-‡πÇ‡∏Ñ‡∏ß‡∏ï‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡∏á‡∏≤‡∏ô">4. Quota ‡πÅ‡∏•‡∏∞ Usage (‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô)</h3>

<h4 id="create_transaction_limit"><code>create_transaction_limit</code></h4>

<ul>
<li><strong>‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£</strong>: ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á Transaction ‡πÑ‡∏î‡πâ</li>
<li><strong>‡∏´‡∏ô‡πà‡∏ß‡∏¢</strong>: ‡∏Ñ‡∏£‡∏±‡πâ‡∏á/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</li>
<li><strong>‡∏î‡∏π‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å</strong>: <code>/api/integration/bma/usage</code></li>
</ul>

<h4 id="create_transaction_usage"><code>create_transaction_usage</code></h4>

<ul>
<li><strong>‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£</strong>: ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á Transaction</li>
<li><strong>‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</strong>:
<ul>
<li>‚úÖ <strong>‡∏ô‡∏±‡∏ö</strong>: ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á Transaction <strong>‡πÉ‡∏´‡∏°‡πà</strong> (create)</li>
<li>‚ùå <strong>‡πÑ‡∏°‡πà‡∏ô‡∏±‡∏ö</strong>: ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó Transaction ‡πÄ‡∏î‡∏¥‡∏° (update)</li>
<li>‡∏ô‡∏±‡∏ö‡∏ó‡∏µ‡∏•‡∏∞ 1 ‡∏ï‡πà‡∏≠ 1 house_id ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà</li>
</ul></li>
<li><strong>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</strong>: ‡∏™‡πà‡∏á 10 ‡∏ö‡πâ‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà = ‡πÄ‡∏û‡∏¥‡πà‡∏° 10, ‡∏™‡πà‡∏á 10 ‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏î‡∏¥‡∏° (‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó) = ‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°</li>
<li><strong>‡∏î‡∏π‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å</strong>: <code>/api/integration/bma/usage</code></li>
</ul>

<h4 id="ai_audit_limit"><code>ai_audit_limit</code></h4>

<ul>
<li><strong>‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£</strong>: ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ AI Audit ‡πÑ‡∏î‡πâ</li>
<li><strong>‡∏´‡∏ô‡πà‡∏ß‡∏¢</strong>: ‡∏Ñ‡∏£‡∏±‡πâ‡∏á/‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</li>
<li><strong>‡∏î‡∏π‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å</strong>: <code>/api/integration/bma/usage</code></li>
</ul>

<h4 id="ai_audit_usage"><code>ai_audit_usage</code></h4>

<ul>
<li><strong>‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£</strong>: ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ AI Audit ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß</li>
<li><strong>‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</strong>:
<ul>
<li>‚úÖ <strong>‡∏ô‡∏±‡∏ö</strong>: ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á Transaction ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏ö AI Audit</li>
<li>‡∏ô‡∏±‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà (create) ‡πÅ‡∏•‡∏∞‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó (update)</li>
<li>‡∏ô‡∏±‡∏ö‡∏ó‡∏µ‡∏•‡∏∞ 1 ‡∏ï‡πà‡∏≠ 1 Transaction ‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤ Audit</li>
</ul></li>
<li><strong>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</strong>: ‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤ Audit 5 Transaction = ‡πÄ‡∏û‡∏¥‡πà‡∏° 5</li>
<li><strong>‡∏î‡∏π‡πÑ‡∏î‡πâ‡∏à‡∏≤‡∏Å</strong>: <code>/api/integration/bma/usage</code></li>
</ul>

<h3 id="5-audit-status-‡πÅ‡∏•‡∏∞-violations">5. Audit Status ‡πÅ‡∏•‡∏∞ Violations</h3>

<h4 id="ai_audit-‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞-ai-audit"><code>ai_audit</code> (‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ AI Audit)</h4>

<ul>
<li><strong>‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£</strong>: ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏î‡∏¢ AI</li>
<li><strong>‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ</strong>:
<ul>
<li><code>"null"</code> - ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</li>
<li><code>"queued"</code> - ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏Ñ‡∏¥‡∏ß‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</li>
<li><code>"approved"</code> - ‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</li>
<li><code>"rejected"</code> - ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö</li>
<li><code>"no_action"</code> - ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</li>
</ul></li>
</ul>

<p><strong>‚ö†Ô∏è ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç:</strong> ‡πÉ‡∏ä‡πâ <code>ai_audit</code> ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏´‡∏•‡∏±‡∏Å‡πÅ‡∏ó‡∏ô <code>status</code></p>

<h4 id="status-‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏ß‡πÑ‡∏õ"><code>status</code> (‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ)</h4>

<ul>
<li><strong>‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£</strong>: ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡∏Ç‡∏≠‡∏á Transaction</li>
<li><strong>‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡πÑ‡∏î‡πâ</strong>: pending, approved, rejected, completed</li>
<li><strong>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</strong>: ‡πÑ‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ <code>ai_audit</code> ‡πÅ‡∏ó‡∏ô</li>
</ul>

<h4 id="overall_violations"><code>overall_violations</code></h4>

<ul>
<li><strong>‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£</strong>: ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô (‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≤‡∏∞‡∏à‡∏á‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏¢‡∏∞)</li>
<li><strong>‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö</strong>: Array ‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°</li>
<li><strong>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</strong>:</li>
</ul>

<div class="codehilite">
<pre><span></span><code><span class="nt">&quot;overall_violations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="s2">&quot;‡∏†‡∏≤‡∏û‡πÑ‡∏°‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ñ‡πà‡∏≤‡∏¢‡πÉ‡∏´‡∏°‡πà&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="s2">&quot;‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà&quot;</span>
<span class="p">]</span>
</code></pre>
</div>

<h4 id="violations-‡∏£‡∏∞‡∏î‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏¢‡∏∞"><code>violations</code> (‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏¢‡∏∞)</h4>

<ul>
<li><strong>‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£</strong>: ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏¢‡∏∞</li>
<li><strong>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</strong>: ‡∏≠‡∏¢‡∏π‡πà‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏¢‡∏∞‡πÉ‡∏ô materials</li>
<li><strong>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</strong>:</li>
</ul>

<div class="codehilite">
<pre><span></span><code><span class="nt">&quot;materials&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;general&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;image_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;violations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="s2">&quot;‡∏û‡∏ö‡∏Ç‡∏¢‡∏∞‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•‡∏õ‡∏ô‡πÉ‡∏ô‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="s2">&quot;‡∏Ç‡∏¢‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏Ñ‡∏±‡∏î‡πÅ‡∏¢‡∏Å&quot;</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<h4 id="image_url"><code>image_url</code></h4>

<ul>
<li><strong>‡∏Ñ‡∏∑‡∏≠‡∏≠‡∏∞‡πÑ‡∏£</strong>: URL ‡∏Ç‡∏≠‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏Ç‡∏¢‡∏∞</li>
<li><strong>‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö</strong>: URL ‡πÅ‡∏ö‡∏ö S3 ‡∏´‡∏£‡∏∑‡∏≠ HTTPS</li>
<li><strong>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á</strong>: <code>"https://s3.example.com/bma/house001-general.jpg"</code></li>
<li><strong>‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á</strong>: ‡∏≠‡∏¢‡∏π‡πà‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏¢‡∏∞</li>
<li><strong>‚ö†Ô∏è ‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç</strong>:
<ul>
<li><strong>‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô Public URL</strong> ‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á Authentication</li>
<li>‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏î‡∏∂‡∏á‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏à‡∏≤‡∏Å URL ‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡πÑ‡∏õ AI Audit</li>
<li>‡∏´‡∏≤‡∏Å URL ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ ‡∏Å‡∏≤‡∏£ Audit ‡∏à‡∏∞‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß</li>
<li>‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏ä‡πâ S3 Presigned URL ‡∏´‡∏£‡∏∑‡∏≠ Public Bucket</li>
</ul></li>
</ul>

<hr />

<h2 id="‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡∏á‡∏≤‡∏ô-api-‡πÅ‡∏ï‡∏•‡∏∞‡∏ï‡∏ß">‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô API ‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ï‡∏±‡∏ß</h2>

<h3 id="1-‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£-audit">1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£ Audit</h3>

<p><strong>Endpoint:</strong> <code>GET /api/integration/bma/audit_status</code></p>

<p><strong>‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå:</strong> ‡∏î‡∏π‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á Transaction ‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á 1 ‡∏õ‡∏µ</p>

<p><strong>‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ:</strong><br />
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Swagger UI<br />
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å <strong>GET /api/integration/bma/audit_status</strong><br />
3. ‡∏Ñ‡∏•‡∏¥‡∏Å <strong>"Try it out"</strong><br />
4. ‡∏Ñ‡∏•‡∏¥‡∏Å <strong>"Execute"</strong></p>

<p><strong>Response ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö:</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;start_date&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-10-27&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;num_transactions&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;ai_audit&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;not_audit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">      </span><span class="c1">// ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏£‡∏ß‡∏à</span>
<span class="w">      </span><span class="nt">&quot;queued&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span><span class="w">         </span><span class="c1">// ‡∏£‡∏≠‡∏ï‡∏£‡∏ß‡∏à</span>
<span class="w">      </span><span class="nt">&quot;approved&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">50</span><span class="p">,</span><span class="w">       </span><span class="c1">// ‡∏ú‡πà‡∏≤‡∏ô</span>
<span class="w">      </span><span class="nt">&quot;rejected&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="w">        </span><span class="c1">// ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;actual_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;pending&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">60</span><span class="p">,</span><span class="w">        </span><span class="c1">// ‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£</span>
<span class="w">      </span><span class="nt">&quot;approved&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">70</span><span class="p">,</span><span class="w">       </span><span class="c1">// ‡∏≠‡∏ô‡∏∏‡∏°‡∏±‡∏ï‡∏¥</span>
<span class="w">      </span><span class="nt">&quot;rejected&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="w">        </span><span class="c1">// ‡∏õ‡∏è‡∏¥‡πÄ‡∏™‡∏ò</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p><strong>‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:</strong><br />
- <code>start_date</code>: ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ô‡∏±‡∏ö (1 ‡∏õ‡∏µ‡∏¢‡πâ‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á)<br />
- <code>num_transactions</code>: ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô Transaction ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î<br />
- <code>ai_audit</code>: ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏î‡∏¢ AI<br />
- <code>actual_status</code>: ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á Transaction</p>

<hr />

<h3 id="2-‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏Ñ‡∏ß‡∏ï‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡∏á‡∏≤‡∏ô">2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</h3>

<p><strong>Endpoint:</strong> <code>GET /api/integration/bma/usage</code></p>

<p><strong>‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå:</strong> ‡∏î‡∏π‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</p>

<p><strong>‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ:</strong><br />
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà Swagger UI<br />
2. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å <strong>GET /api/integration/bma/usage</strong><br />
3. ‡∏Ñ‡∏•‡∏¥‡∏Å <strong>"Try it out"</strong><br />
4. ‡∏Ñ‡∏•‡∏¥‡∏Å <strong>"Execute"</strong></p>

<p><strong>Response ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö:</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;create_transaction_limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span><span class="w">    </span><span class="c1">// ‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</span>
<span class="w">    </span><span class="nt">&quot;create_transaction_usage&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">450</span><span class="p">,</span><span class="w">     </span><span class="c1">// ‡πÉ‡∏ä‡πâ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß</span>
<span class="w">    </span><span class="nt">&quot;ai_audit_limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">               </span><span class="c1">// ‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤ AI</span>
<span class="w">    </span><span class="nt">&quot;ai_audit_usage&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span><span class="w">                 </span><span class="c1">// ‡πÉ‡∏ä‡πâ AI ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p><strong>‡∏Å‡∏≤‡∏£‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:</strong><br />
- ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡∏£‡πâ‡∏≤‡∏á Transaction ‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å: <code>1000 - 450 = 550 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á</code><br />
- ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ AI Audit ‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å: <code>100 - 35 = 65 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á</code></p>

<p><strong>‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà‡∏Ñ‡∏ß‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö:</strong><br />
- ‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å<br />
- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö Error ‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤<br />
- ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏á‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏à‡∏≥‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</p>

<hr />

<h3 id="3-‡∏ö‡∏ô‡∏ó‡∏Å‡∏Ç‡∏≠‡∏°‡∏•‡∏Ç‡∏¢‡∏∞-batch-upload">3. ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏¢‡∏∞ (Batch Upload)</h3>

<p><strong>Endpoint:</strong> <code>POST /api/integration/bma/transaction</code></p>

<p><strong>‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå:</strong> ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏¢‡∏∞‡∏ó‡∏µ‡∏•‡∏∞‡∏´‡∏•‡∏≤‡∏¢‡∏ö‡πâ‡∏≤‡∏ô‡πÉ‡∏ô‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏î‡∏µ‡∏¢‡∏ß</p>

<p><strong>üí° ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:</strong><br />
- <strong>‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πà‡∏á‡∏´‡∏•‡∏≤‡∏¢‡πÜ house_id ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ</strong> ‡πÉ‡∏ô‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÄ‡∏î‡∏µ‡∏¢‡∏ß (Batch Processing)<br />
- <strong>‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 1,000 house_id ‡∏ï‡πà‡∏≠‡∏Ñ‡∏£‡∏±‡πâ‡∏á</strong> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î<br />
- ‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 1,000 ‡∏ö‡πâ‡∏≤‡∏ô ‡∏Ñ‡∏ß‡∏£‡πÅ‡∏ö‡πà‡∏á‡∏™‡πà‡∏á‡∏´‡∏•‡∏≤‡∏¢‡πÜ ‡∏Ñ‡∏£‡∏±‡πâ‡∏á</p>

<p><strong>‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;batch&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;v2025-Q1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">                    </span><span class="c1">// transaction_version</span>
<span class="w">      </span><span class="nt">&quot;2170&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">                      </span><span class="c1">// origin_id (‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô 2170 = ‡πÅ‡∏Ç‡∏ß‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏ô‡∏ô‡∏ó‡∏£‡∏µ)</span>
<span class="w">        </span><span class="nt">&quot;00000000001&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">             </span><span class="c1">// house_id (‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà)</span>
<span class="w">          </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-10-23T08:30:00+07:00&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;material&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;general&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">             </span><span class="c1">// ‡∏Ç‡∏¢‡∏∞‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</span>
<span class="w">              </span><span class="nt">&quot;image_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://s3.example.com/bma/house001-general.jpg&quot;</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;recyclable&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">          </span><span class="c1">// ‡∏Ç‡∏¢‡∏∞‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•</span>
<span class="w">              </span><span class="nt">&quot;image_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://s3.example.com/bma/house001-recyclable.jpg&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;00000000002&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">             </span><span class="c1">// ‡∏ö‡πâ‡∏≤‡∏ô‡∏ó‡∏µ‡πà 2</span>
<span class="w">          </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-10-23T09:15:00+07:00&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;material&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;organic&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">             </span><span class="c1">// ‡∏Ç‡∏¢‡∏∞‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏µ‡∏¢‡πå</span>
<span class="w">              </span><span class="nt">&quot;image_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://s3.example.com/bma/house002-organic.jpg&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p><strong>‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÉ‡∏ô Swagger:</strong><br />
1. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å <strong>POST /api/integration/bma/transaction</strong><br />
2. ‡∏Ñ‡∏•‡∏¥‡∏Å <strong>"Try it out"</strong><br />
3. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Request body ‡∏ï‡∏≤‡∏°‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Ç‡πâ‡∏≤‡∏á‡∏ï‡πâ‡∏ô<br />
4. ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô:<br />
   - <code>transaction_version</code> ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏£‡∏∏‡πà‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì<br />
   - <code>house_id</code> ‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏´‡∏±‡∏™‡∏ö‡πâ‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á (11 ‡∏´‡∏•‡∏±‡∏Å)<br />
   - <code>timestamp</code> ‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡∏¢‡∏∞<br />
   - <code>image_url</code> ‡πÄ‡∏õ‡πá‡∏ô URL ‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡∏à‡∏£‡∏¥‡∏á<br />
5. ‡∏Ñ‡∏•‡∏¥‡∏Å <strong>"Execute"</strong></p>

<p><strong>Response ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö:</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Processed 2 transactions&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;results&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;processed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">               </span><span class="c1">// ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
<span class="w">    </span><span class="nt">&quot;created&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">                 </span><span class="c1">// ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà</span>
<span class="w">    </span><span class="nt">&quot;updated&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">                 </span><span class="c1">// ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó</span>
<span class="w">    </span><span class="nt">&quot;errors&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">                  </span><span class="c1">// ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;subscription_usage&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;create_transaction_limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;create_transaction_usage&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">452</span><span class="p">,</span><span class="w">     </span><span class="c1">// ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô 2</span>
<span class="w">    </span><span class="nt">&quot;ai_audit_limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;ai_audit_usage&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">35</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p><strong>‡∏Å‡∏£‡∏ì‡∏µ‡∏°‡∏µ Error:</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;results&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;processed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;created&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;updated&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;errors&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">      </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;transaction_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;v2025-Q1&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;house_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00000000003&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Invalid timestamp format&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p><strong>‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á:</strong><br />
- ‡πÉ‡∏ä‡πâ <code>origin_id</code> ‡πÄ‡∏õ‡πá‡∏ô <strong>2170</strong> ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô<br />
- <code>timestamp</code> ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö ISO 8601 ‡∏û‡∏£‡πâ‡∏≠‡∏° timezone<br />
- <code>image_url</code> <strong>‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô Public URL</strong> ‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á authentication<br />
- ‡∏ñ‡πâ‡∏≤‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏î‡∏¥‡∏°‡∏ã‡πâ‡∏≥ (transaction_version + house_id ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô) ‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£<strong>‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó</strong></p>

<hr />

<h3 id="4-‡∏î‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡∏≠‡∏°‡∏•‡∏Ç‡∏¢‡∏∞-list">4. ‡∏î‡∏∂‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏¢‡∏∞ (List)</h3>

<p><strong>Endpoint:</strong> <code>GET /api/integration/bma/transaction</code></p>

<p><strong>‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå:</strong> ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏¢‡∏∞‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏ö‡πà‡∏á‡∏´‡∏ô‡πâ‡∏≤</p>

<p><strong>Parameters:</strong><br />
- <code>limit</code> (optional): ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ï‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤ (‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô: 100, ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î: 1000)<br />
- <code>page</code> (optional): ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏´‡∏ô‡πâ‡∏≤ (‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô: 1)<br />
- <code>transaction_version</code> (optional): ‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏£‡∏∏‡πà‡∏ô<br />
- <code>origin_id</code> (optional): ‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏à‡∏∏‡∏î‡∏£‡∏±‡∏ö</p>

<p><strong>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:</strong></p>

<p><strong>‡∏î‡∏π‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å (100 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£):</strong></p>

<pre><code>GET /api/integration/bma/transaction
</code></pre>

<p><strong>‡∏î‡∏π‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà 2, ‡πÅ‡∏™‡∏î‡∏á 50 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£:</strong></p>

<pre><code>GET /api/integration/bma/transaction?page=2&amp;limit=50
</code></pre>

<p><strong>‡∏Å‡∏£‡∏≠‡∏á‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏£‡∏∏‡πà‡∏ô v2025-Q1:</strong></p>

<pre><code>GET /api/integration/bma/transaction?transaction_version=v2025-Q1
</code></pre>

<p><strong>‡∏Å‡∏£‡∏≠‡∏á‡∏£‡∏∏‡πà‡∏ô v2025-Q1 ‡∏à‡∏≤‡∏Å origin 2170 ‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà 3:</strong></p>

<pre><code>GET /api/integration/bma/transaction?transaction_version=v2025-Q1&amp;origin_id=2170&amp;page=3&amp;limit=100
</code></pre>

<p><strong>‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô Swagger:</strong><br />
1. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å <strong>GET /api/integration/bma/transaction</strong><br />
2. ‡∏Ñ‡∏•‡∏¥‡∏Å <strong>"Try it out"</strong><br />
3. ‡∏Å‡∏£‡∏≠‡∏Å Parameters ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£<br />
4. ‡∏Ñ‡∏•‡∏¥‡∏Å <strong>"Execute"</strong></p>

<p><strong>Response ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö:</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;transactions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;v2025-Q1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">                      </span><span class="c1">// transaction_version</span>
<span class="w">        </span><span class="nt">&quot;2170&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">                        </span><span class="c1">// origin_id</span>
<span class="w">          </span><span class="nt">&quot;00000000001&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">               </span><span class="c1">// house_id</span>
<span class="w">            </span><span class="nt">&quot;audit&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pending&quot;</span><span class="p">,</span>
<span class="w">              </span><span class="nt">&quot;ai_audit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;approved&quot;</span><span class="p">,</span><span class="w">    </span><span class="c1">// ‚≠ê ‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏´‡∏•‡∏±‡∏Å</span>
<span class="w">              </span><span class="nt">&quot;overall_violations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;‡∏†‡∏≤‡∏û‡πÑ‡∏°‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô&quot;</span><span class="w">           </span><span class="c1">// ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô</span>
<span class="w">              </span><span class="p">],</span>
<span class="w">              </span><span class="nt">&quot;materials&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;general&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;image_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://...&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;violations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">        </span><span class="c1">// ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó</span>
<span class="w">                    </span><span class="s2">&quot;‡∏û‡∏ö‡∏Ç‡∏¢‡∏∞‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•‡∏õ‡∏ô&quot;</span>
<span class="w">                  </span><span class="p">]</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">&quot;organic&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;image_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://...&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;violations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">              </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;origins&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;2170&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;‡πÅ‡∏Ç‡∏ß‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏ô‡∏ô‡∏ó‡∏£‡∏µ&quot;</span><span class="w">   </span><span class="c1">// ‡∏ä‡∏∑‡πà‡∏≠‡∏à‡∏∏‡∏î‡∏£‡∏±‡∏ö</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;pagination&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;page&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">250</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;total_pages&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;has_next&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;has_prev&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p><strong>‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:</strong></p>

<pre><code>transactions
‚îî‚îÄ‚îÄ [transaction_version]
    ‚îî‚îÄ‚îÄ [origin_id]
        ‚îî‚îÄ‚îÄ [house_id]
            ‚îî‚îÄ‚îÄ audit
                ‚îú‚îÄ‚îÄ status: ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ
                ‚îú‚îÄ‚îÄ ai_audit: ‚≠ê ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ AI (‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡∏ô‡∏µ‡πâ)
                ‚îú‚îÄ‚îÄ overall_violations: ‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô
                ‚îî‚îÄ‚îÄ materials
                    ‚îú‚îÄ‚îÄ general
                    ‚îÇ   ‚îú‚îÄ‚îÄ image_url
                    ‚îÇ   ‚îî‚îÄ‚îÄ violations
                    ‚îú‚îÄ‚îÄ organic
                    ‚îú‚îÄ‚îÄ recyclable
                    ‚îî‚îÄ‚îÄ hazardous
</code></pre>

<p><strong>‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ:</strong><br />
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏î‡πâ‡∏ß‡∏¢ <code>ai_audit</code> ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà <code>status</code><br />
- <code>overall_violations</code> = ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡∏Ç‡∏≠‡∏á‡∏ö‡πâ‡∏≤‡∏ô<br />
- <code>violations</code> ‡πÉ‡∏ô materials = ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏¢‡∏∞<br />
- ‡∏ñ‡πâ‡∏≤ <code>violations</code> ‡πÄ‡∏õ‡πá‡∏ô <code>[]</code> = ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤</p>

<hr />

<h3 id="5-‡∏î‡∏Ç‡∏≠‡∏°‡∏•‡∏ö‡∏≤‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏à‡∏≤‡∏∞‡∏à‡∏á">5. ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÄ‡∏à‡∏≤‡∏∞‡∏à‡∏á</h3>

<p><strong>Endpoint:</strong> <code>GET /api/integration/bma/transaction/{transaction_version}/{house_id}</code></p>

<p><strong>‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå:</strong> ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</p>

<p><strong>Parameters:</strong><br />
- <code>transaction_version</code>: ‡∏£‡∏∏‡πà‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (‡πÄ‡∏ä‡πà‡∏ô "v2025-Q1")<br />
- <code>house_id</code>: ‡∏£‡∏´‡∏±‡∏™‡∏ö‡πâ‡∏≤‡∏ô (‡πÄ‡∏ä‡πà‡∏ô "00000000001")</p>

<p><strong>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô:</strong></p>

<p><strong>‡∏î‡∏π‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà 1 ‡∏£‡∏∏‡πà‡∏ô v2025-Q1:</strong></p>

<pre><code>GET /api/integration/bma/transaction/v2025-Q1/00000000001
</code></pre>

<p><strong>‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô Swagger:</strong><br />
1. ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å <strong>GET /api/integration/bma/transaction/{transaction_version}/{house_id}</strong><br />
2. ‡∏Ñ‡∏•‡∏¥‡∏Å <strong>"Try it out"</strong><br />
3. ‡∏Å‡∏£‡∏≠‡∏Å <code>transaction_version</code> ‡πÄ‡∏ä‡πà‡∏ô <code>v2025-Q1</code><br />
4. ‡∏Å‡∏£‡∏≠‡∏Å <code>house_id</code> ‡πÄ‡∏ä‡πà‡∏ô <code>00000000001</code><br />
5. ‡∏Ñ‡∏•‡∏¥‡∏Å <strong>"Execute"</strong></p>

<p><strong>Response ‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö:</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;transaction_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;v2025-Q1&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;house_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;00000000001&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;origin_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2170&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;origin_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;‡πÅ‡∏Ç‡∏ß‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏ô‡∏ô‡∏ó‡∏£‡∏µ&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;audit&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;pending&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;ai_audit&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rejected&quot;</span><span class="p">,</span><span class="w">              </span><span class="c1">// ‚≠ê ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ AI</span>
<span class="w">      </span><span class="nt">&quot;overall_violations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">        </span><span class="s2">&quot;‡∏†‡∏≤‡∏û‡πÑ‡∏°‡πà‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ñ‡πà‡∏≤‡∏¢‡πÉ‡∏´‡∏°‡πà&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="p">],</span>
<span class="w">      </span><span class="nt">&quot;materials&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;general&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;image_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://s3.example.com/bma/house001-general.jpg&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;violations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="s2">&quot;‡∏û‡∏ö‡∏Ç‡∏¢‡∏∞‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•‡∏õ‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="p">]</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;recyclable&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;image_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://s3.example.com/bma/house001-recyclable.jpg&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;violations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">                 </span><span class="c1">// ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;organic&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;image_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">               </span><span class="c1">// ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏π‡∏õ</span>
<span class="w">          </span><span class="nt">&quot;violations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;hazardous&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;image_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;violations&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p><strong>‡∏Å‡∏≤‡∏£‡∏ï‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:</strong></p>

<p><strong>‡∏ö‡πâ‡∏≤‡∏ô‡∏ô‡∏µ‡πâ‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤:</strong><br />
- <code>ai_audit = "rejected"</code> ‚Üí ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô AI Audit<br />
- <code>overall_violations</code> ‡∏°‡∏µ 2 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‚Üí ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô<br />
- ‡∏Ç‡∏¢‡∏∞‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ (general) ‡∏°‡∏µ <code>violations</code> 2 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ ‚Üí ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó<br />
- ‡∏Ç‡∏¢‡∏∞‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏• (recyclable) ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤</p>

<p><strong>‡πÅ‡∏ô‡∏ß‡∏ó‡∏≤‡∏á‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:</strong><br />
1. ‡∏ñ‡πà‡∏≤‡∏¢‡∏†‡∏≤‡∏û‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô<br />
2. ‡∏ñ‡πà‡∏≤‡∏¢‡∏õ‡πâ‡∏≤‡∏¢‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô<br />
3. ‡∏Ñ‡∏±‡∏î‡πÅ‡∏¢‡∏Å‡∏Ç‡∏¢‡∏∞‡∏£‡∏µ‡πÑ‡∏ã‡πÄ‡∏Ñ‡∏¥‡∏•‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ñ‡∏±‡∏á‡∏Ç‡∏¢‡∏∞‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ<br />
4. ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡∏°‡πà (POST) ‡∏î‡πâ‡∏ß‡∏¢ transaction_version ‡πÅ‡∏•‡∏∞ house_id ‡πÄ‡∏î‡∏¥‡∏° (‡∏à‡∏∞‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó)</p>

<hr />

<h2 id="‡∏Å‡∏£‡∏ì‡∏ï‡∏ß‡∏≠‡∏¢‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏á">‡∏Å‡∏£‡∏ì‡∏µ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á</h2>

<h3 id="‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡∏ó-1-‡∏™‡∏á‡∏Ç‡∏≠‡∏°‡∏•‡∏ö‡∏≤‡∏ô‡πÉ‡∏´‡∏°-10-‡∏ö‡∏≤‡∏ô">‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà 1: ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡πâ‡∏≤‡∏ô‡πÉ‡∏´‡∏°‡πà 10 ‡∏ö‡πâ‡∏≤‡∏ô</h3>

<p><strong>‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:</strong></p>

<ol>
<li><p><strong>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤:</strong></p>

<pre><code>GET /api/integration/bma/usage
</code></pre>

<p>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ <code>create_transaction_usage</code> + 10 ‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô <code>create_transaction_limit</code></p></li>
<li><p><strong>‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;batch&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;v2025-Q1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;2170&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;00000000001&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;material&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;00000000002&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;material&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="err">...</span>
<span class="w">        </span><span class="nt">&quot;00000000010&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;material&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div></li>
<li><p><strong>‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:</strong></p>

<pre><code>POST /api/integration/bma/transaction
</code></pre></li>
<li><p><strong>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•:</strong></p>

<ul>
<li>‡∏î‡∏π <code>results.created</code> ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô 10</li>
<li>‡∏î‡∏π <code>results.errors</code> ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏ö‡πâ‡∏≤‡∏ô‡πÑ‡∏´‡∏ô‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î</li>
</ul></li>
</ol>

<hr />

<h3 id="‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡∏ó-2-‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ö‡∏≤‡∏ô‡∏ó‡πÑ‡∏°‡∏ú‡∏≤‡∏ô-ai-audit">‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà 2: ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ö‡πâ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô AI Audit</h3>

<p><strong>‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:</strong></p>

<ol>
<li><p><strong>‡∏î‡∏π‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥:</strong></p>

<pre><code>GET /api/integration/bma/audit_status
</code></pre>

<p>‡∏î‡∏π <code>ai_audit.rejected</code> ‡∏°‡∏µ‡∏Å‡∏µ‡πà‡∏ö‡πâ‡∏≤‡∏ô</p></li>
<li><p><strong>‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î:</strong></p>

<pre><code>GET /api/integration/bma/transaction?limit=1000
</code></pre></li>
<li><p><strong>‡∏Å‡∏£‡∏≠‡∏á‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°:</strong> ‡∏´‡∏≤‡∏ö‡πâ‡∏≤‡∏ô‡∏ó‡∏µ‡πà <code>ai_audit = "rejected"</code></p></li>
<li><p><strong>‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î:</strong></p>

<pre><code>GET /api/integration/bma/transaction/v2025-Q1/00000000123
</code></pre>

<p>‡∏î‡∏π <code>overall_violations</code> ‡πÅ‡∏•‡∏∞ <code>violations</code> ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏¢‡∏∞</p></li>
<li><p><strong>‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡∏∞‡∏™‡πà‡∏á‡πÉ‡∏´‡∏°‡πà:</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;batch&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;v2025-Q1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;2170&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;00000000123&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-10-24T10:00:00+07:00&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;material&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;general&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;image_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;https://... (‡∏£‡∏π‡∏õ‡πÉ‡∏´‡∏°‡πà)&quot;</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div></li>
</ol>

<hr />

<h3 id="‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡∏ó-3-‡∏î‡∏á‡∏Ç‡∏≠‡∏°‡∏•‡πÄ‡∏î‡∏≠‡∏ô‡∏ï‡∏•‡∏≤‡∏Ñ‡∏°-2025">‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà 3: ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2025</h3>

<p><strong>‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:</strong></p>

<ol>
<li><p><strong>‡∏Å‡∏£‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏£‡∏∏‡πà‡∏ô:</strong></p>

<pre><code>GET /api/integration/bma/transaction?transaction_version=v2025-10&amp;limit=1000
</code></pre></li>
<li><p><strong>‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÄ‡∏Å‡∏¥‡∏ô 1000 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£:</strong></p>

<pre><code>GET /api/integration/bma/transaction?transaction_version=v2025-10&amp;page=1&amp;limit=1000
GET /api/integration/bma/transaction?transaction_version=v2025-10&amp;page=2&amp;limit=1000
...
</code></pre>

<p>‡∏î‡∏π‡∏à‡∏ô‡∏Å‡∏ß‡πà‡∏≤ <code>pagination.has_next = false</code></p></li>
<li><p><strong>‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:</strong> ‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡∏ú‡πà‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å transaction ‡πÅ‡∏•‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö <code>ai_audit</code> status</p></li>
</ol>

<hr />

<h3 id="‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡∏ó-4-‡∏™‡∏á‡∏Ç‡∏≠‡∏°‡∏•‡∏à‡∏≤‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å-‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡∏≤-1000-‡∏ö‡∏≤‡∏ô">‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà 4: ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å (‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 1,000 ‡∏ö‡πâ‡∏≤‡∏ô)</h3>

<p><strong>‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå:</strong> ‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• 2,500 ‡∏ö‡πâ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡πà‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡∏∞‡∏ö‡∏ö</p>

<p><strong>‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£:</strong> ‡πÅ‡∏ö‡πà‡∏á‡∏™‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡πÜ ‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏•‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 1,000 ‡∏ö‡πâ‡∏≤‡∏ô</p>

<p><strong>‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:</strong></p>

<ol>
<li><p><strong>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤:</strong></p>

<pre><code>GET /api/integration/bma/usage
</code></pre>

<p>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏°‡∏µ quota ‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠ (2,500 ‡∏ö‡πâ‡∏≤‡∏ô)</p></li>
<li><p><strong>‡πÅ‡∏ö‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏≠‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô 3 ‡∏ä‡∏∏‡∏î:</strong></p>

<ul>
<li>‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà 1: ‡∏ö‡πâ‡∏≤‡∏ô 1-1,000 (1,000 ‡∏ö‡πâ‡∏≤‡∏ô)</li>
<li>‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà 2: ‡∏ö‡πâ‡∏≤‡∏ô 1,001-2,000 (1,000 ‡∏ö‡πâ‡∏≤‡∏ô)</li>
<li>‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà 3: ‡∏ö‡πâ‡∏≤‡∏ô 2,001-2,500 (500 ‡∏ö‡πâ‡∏≤‡∏ô)</li>
</ul></li>
<li><p><strong>‡∏™‡πà‡∏á‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà 1 (1,000 ‡∏ö‡πâ‡∏≤‡∏ô‡πÅ‡∏£‡∏Å):</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="err">POST</span><span class="w"> </span><span class="err">/api/i</span><span class="kc">nte</span><span class="err">gra</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">/bma/</span><span class="kc">transa</span><span class="err">c</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span>
<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;batch&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;v2025-Q1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;2170&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;00000000001&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;material&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;00000000002&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;material&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="err">...</span>
<span class="w">        </span><span class="nt">&quot;00000001000&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;material&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Processed 1000 transactions&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;results&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;processed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;created&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;updated&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;errors&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div></li>
<li><p><strong>‡∏™‡πà‡∏á‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà 2 (1,000 ‡∏ö‡πâ‡∏≤‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ):</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="err">POST</span><span class="w"> </span><span class="err">/api/i</span><span class="kc">nte</span><span class="err">gra</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">/bma/</span><span class="kc">transa</span><span class="err">c</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span>
<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;batch&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;v2025-Q1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;2170&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;00000001001&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;material&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;00000001002&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;material&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="err">...</span>
<span class="w">        </span><span class="nt">&quot;00000002000&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;material&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Processed 1000 transactions&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;results&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;processed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;created&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1000</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;updated&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;errors&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div></li>
<li><p><strong>‡∏™‡πà‡∏á‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà 3 (500 ‡∏ö‡πâ‡∏≤‡∏ô‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢):</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="err">POST</span><span class="w"> </span><span class="err">/api/i</span><span class="kc">nte</span><span class="err">gra</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span><span class="err">/bma/</span><span class="kc">transa</span><span class="err">c</span><span class="kc">t</span><span class="err">io</span><span class="kc">n</span>
<span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;batch&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;v2025-Q1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;2170&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;00000002001&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;material&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;00000002002&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;material&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w"> </span><span class="p">},</span>
<span class="w">        </span><span class="err">...</span>
<span class="w">        </span><span class="nt">&quot;00000002500&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;material&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="err">...</span><span class="p">}</span><span class="w"> </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p><strong>Response:</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;success&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Processed 500 transactions&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;results&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;processed&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;created&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;updated&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;errors&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div></li>
<li><p><strong>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ú‡∏•‡∏£‡∏ß‡∏°:</strong></p>

<ul>
<li>‡∏™‡πà‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: 1,000 + 1,000 + 500 = 2,500 ‡∏ö‡πâ‡∏≤‡∏ô</li>
<li><code>create_transaction_usage</code> ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô 2,500</li>
<li>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö <code>errors</code> ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞ response</li>
</ul></li>
</ol>

<p><strong>‡∏õ‡∏£‡∏∞‡πÇ‡∏¢‡∏ä‡∏ô‡πå‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡πà‡∏á‡∏™‡πà‡∏á:</strong><br />
- ‚úÖ ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô Request Timeout (‡∏Ñ‡∏≥‡∏Ç‡∏≠‡πÑ‡∏°‡πà‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤)<br />
- ‚úÖ ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° Error ‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô (‡∏£‡∏π‡πâ‡∏ä‡∏∏‡∏î‡πÑ‡∏´‡∏ô‡∏ú‡∏¥‡∏î)<br />
- ‚úÖ ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ Retry ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤<br />
- ‚úÖ ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô</p>

<p><strong>‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î JavaScript ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏ö‡πà‡∏á‡∏™‡πà‡∏á:</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="k">async</span><span class="w"> </span><span class="kd">function</span><span class="w"> </span><span class="nx">sendBatchInChunks</span><span class="p">(</span><span class="nx">allHouses</span><span class="p">,</span><span class="w"> </span><span class="nx">chunkSize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">1000</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">totalSent</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">    </span><span class="nx">totalCreated</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">    </span><span class="nx">totalUpdated</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">    </span><span class="nx">allErrors</span><span class="o">:</span><span class="w"> </span><span class="p">[]</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="c1">// ‡πÅ‡∏ö‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏õ‡πá‡∏ô chunks</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">let</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="nx">allHouses</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">chunkSize</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">chunk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">allHouses</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span><span class="w"> </span><span class="nx">i</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nx">chunkSize</span><span class="p">);</span>
<span class="w">    </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`Sending chunk </span><span class="si">${</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">i</span><span class="o">/</span><span class="nx">chunkSize</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="si">}</span><span class="sb">...`</span><span class="p">);</span>

<span class="w">    </span><span class="c1">// ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° batch data</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">batchData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">batch</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="s2">&quot;v2025-Q1&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="s2">&quot;2170&quot;</span><span class="o">:</span><span class="w"> </span><span class="p">{}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">};</span>

<span class="w">    </span><span class="c1">// ‡πÄ‡∏ï‡∏¥‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡πâ‡∏≤‡∏ô</span>
<span class="w">    </span><span class="nx">chunk</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">house</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">batchData</span><span class="p">.</span><span class="nx">batch</span><span class="p">[</span><span class="s2">&quot;v2025-Q1&quot;</span><span class="p">][</span><span class="s2">&quot;2170&quot;</span><span class="p">][</span><span class="nx">house</span><span class="p">.</span><span class="nx">id</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">timestamp</span><span class="o">:</span><span class="w"> </span><span class="nx">house</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">,</span>
<span class="w">        </span><span class="nx">material</span><span class="o">:</span><span class="w"> </span><span class="nx">house</span><span class="p">.</span><span class="nx">material</span>
<span class="w">      </span><span class="p">};</span>
<span class="w">    </span><span class="p">});</span>

<span class="w">    </span><span class="c1">// ‡∏™‡πà‡∏á request</span>
<span class="w">    </span><span class="k">try</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/api/integration/bma/transaction&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;POST&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="s1">&#39;Authorization&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;Bearer YOUR_JWT_TOKEN&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;application/json&#39;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">batchData</span><span class="p">)</span>
<span class="w">      </span><span class="p">});</span>

<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>

<span class="w">      </span><span class="c1">// ‡∏£‡∏ß‡∏°‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå</span>
<span class="w">      </span><span class="nx">results</span><span class="p">.</span><span class="nx">totalSent</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">results</span><span class="p">.</span><span class="nx">processed</span><span class="p">;</span>
<span class="w">      </span><span class="nx">results</span><span class="p">.</span><span class="nx">totalCreated</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">results</span><span class="p">.</span><span class="nx">created</span><span class="p">;</span>
<span class="w">      </span><span class="nx">results</span><span class="p">.</span><span class="nx">totalUpdated</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">results</span><span class="p">.</span><span class="nx">updated</span><span class="p">;</span>
<span class="w">      </span><span class="nx">results</span><span class="p">.</span><span class="nx">allErrors</span><span class="p">.</span><span class="nx">push</span><span class="p">(...</span><span class="nx">data</span><span class="p">.</span><span class="nx">results</span><span class="p">.</span><span class="nx">errors</span><span class="p">);</span>

<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`‚úÖ Chunk </span><span class="si">${</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">i</span><span class="o">/</span><span class="nx">chunkSize</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="si">}</span><span class="sb"> done: </span><span class="si">${</span><span class="nx">data</span><span class="p">.</span><span class="nx">results</span><span class="p">.</span><span class="nx">created</span><span class="si">}</span><span class="sb"> created`</span><span class="p">);</span>

<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">catch</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">(</span><span class="sb">`‚ùå Chunk </span><span class="si">${</span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">i</span><span class="o">/</span><span class="nx">chunkSize</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="si">}</span><span class="sb"> failed:`</span><span class="p">,</span><span class="w"> </span><span class="nx">error</span><span class="p">);</span>
<span class="w">      </span><span class="nx">results</span><span class="p">.</span><span class="nx">allErrors</span><span class="p">.</span><span class="nx">push</span><span class="p">({</span>
<span class="w">        </span><span class="nx">chunk</span><span class="o">:</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">i</span><span class="o">/</span><span class="nx">chunkSize</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span>
<span class="w">        </span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="nx">error</span><span class="p">.</span><span class="nx">message</span>
<span class="w">      </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="c1">// ‡∏û‡∏±‡∏Å‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞ chunk (optional)</span>
<span class="w">    </span><span class="k">await</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">setTimeout</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span><span class="w"> </span><span class="mf">1000</span><span class="p">));</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">results</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">allHouses</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;00000000001&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">timestamp</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">material</span><span class="o">:</span><span class="w"> </span><span class="p">{...}</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="nx">id</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;00000000002&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">timestamp</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">material</span><span class="o">:</span><span class="w"> </span><span class="p">{...}</span><span class="w"> </span><span class="p">},</span>
<span class="w">  </span><span class="c1">// ... 2,500 ‡∏ö‡πâ‡∏≤‡∏ô</span>
<span class="p">];</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">results</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">sendBatchInChunks</span><span class="p">(</span><span class="nx">allHouses</span><span class="p">,</span><span class="w"> </span><span class="mf">1000</span><span class="p">);</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;Summary:&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">results</span><span class="p">);</span>
</code></pre>
</div>

<p><strong>‡∏™‡∏£‡∏∏‡∏õ:</strong><br />
- üìä ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏≤‡∏Å = ‡πÅ‡∏ö‡πà‡∏á‡∏™‡πà‡∏á<br />
- üî¢ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 1,000 ‡∏ö‡πâ‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡∏Ñ‡∏£‡∏±‡πâ‡∏á<br />
- ‚è±Ô∏è ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏õ‡∏±‡∏ç‡∏´‡∏≤ timeout<br />
- üîç ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° error ‡πÑ‡∏î‡πâ‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô</p>

<hr />

<h2 id="‡∏Ç‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≤‡πÅ‡∏ô‡∏∞‡∏ô‡∏≤">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÅ‡∏•‡∏∞‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</h2>

<h3 id="‡∏™‡∏á‡∏ó‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≤">‚úÖ ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏ó‡∏≥</h3>

<ol>
<li><p><strong>‡πÉ‡∏ä‡πâ <code>ai_audit</code> ‡πÅ‡∏ó‡∏ô <code>status</code></strong></p>

<div class="codehilite">
<pre><span></span><code><span class="c1">// ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‚úÖ</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">transaction</span><span class="p">.</span><span class="nx">audit</span><span class="p">.</span><span class="nx">ai_audit</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;approved&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ‡∏ú‡πà‡∏≤‡∏ô</span>
<span class="p">}</span>

<span class="c1">// ‡πÑ‡∏°‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ ‚ùå</span>
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">transaction</span><span class="p">.</span><span class="nx">audit</span><span class="p">.</span><span class="nx">status</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;approved&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// ‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ú‡∏• AI</span>
<span class="p">}</span>
</code></pre>
</div></li>
<li><p><strong>‡πÉ‡∏ä‡πâ house_id ‡πÅ‡∏ö‡∏ö 11 ‡∏´‡∏•‡∏±‡∏Å</strong></p>

<pre><code>‚úÖ "00000000001", "00000000123"
‚ùå "HOUSE-001", "1", "H001"
</code></pre></li>
<li><p><strong>‡πÉ‡∏ä‡πâ origin_id ‡πÄ‡∏õ‡πá‡∏ô 2170 ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</strong></p>

<div class="codehilite">
<pre><span></span><code><span class="err">‚úÖ</span><span class="w"> </span><span class="s2">&quot;2170&quot;</span><span class="w">  </span><span class="c1">// ‡πÅ‡∏Ç‡∏ß‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏ô‡∏ô‡∏ó‡∏£‡∏µ (Mock Data)</span>
<span class="err">‚ùå</span><span class="w"> </span><span class="s2">&quot;2171&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;1234&quot;</span><span class="p">,</span><span class="w"> </span><span class="err">‡∏≠‡∏∑‡πà‡∏ô‡πÜ</span>
</code></pre>
</div></li>
<li><p><strong>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≤‡∏Å</strong></p></li>
<li><p><strong>‡∏£‡∏∞‡∏ö‡∏∏ timestamp ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á</strong></p>

<pre><code>‚úÖ "2025-10-23T08:30:00+07:00"  (ISO 8601 + timezone)
‚ùå "2025-10-23 08:30:00"
‚ùå "23/10/2025"
</code></pre></li>
<li><p><strong>‡πÉ‡∏ä‡πâ image_url ‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ</strong></p>

<pre><code>‚úÖ "https://s3.amazonaws.com/bucket/image.jpg"  (Public URL)
‚úÖ "https://storage.googleapis.com/bucket/image.jpg"  (Public GCS)
‚úÖ "https://s3.example.com/image.jpg?AWSAccessKeyId=..."  (Presigned URL)
‚ùå "file:///local/path/image.jpg"  (Local file)
‚ùå "https://private.example.com/image.jpg"  (‡∏ï‡πâ‡∏≠‡∏á authentication)
</code></pre>

<p><strong>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</strong>: ‡∏£‡∏∞‡∏ö‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏†‡∏≤‡∏û‡πÑ‡∏î‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡πà‡∏á‡πÑ‡∏õ AI Audit</p></li>
</ol>

<h3 id="‡∏™‡∏á‡∏ó‡∏Ñ‡∏ß‡∏£‡∏´‡∏•‡∏Å‡πÄ‡∏•‡∏¢‡∏á">‚ö†Ô∏è ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏£‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á</h3>

<ol>
<li><p><strong>‡∏™‡πà‡∏á origin_id ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà 2170</strong></p>

<ul>
<li>‡∏à‡∏∞‡πÑ‡∏î‡πâ Error: "Only origin_id 2170 is allowed for BMA integration"</li>
</ul></li>
<li><p><strong>‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ã‡πâ‡∏≥‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à</strong></p>

<ul>
<li>‡∏ñ‡πâ‡∏≤ transaction_version + house_id ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô = ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡∏°‡πà)</li>
<li>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏ß‡πà‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏à‡∏£‡∏¥‡∏á</li>
</ul></li>
<li><p><strong>‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡πà‡∏≤‡∏ô violations</strong></p>

<ul>
<li>AI Audit ‡∏≠‡∏≤‡∏à reject ‡πÅ‡∏ï‡πà <code>overall_violations</code> ‡πÅ‡∏•‡∏∞ <code>violations</code> ‡∏à‡∏∞‡∏ö‡∏≠‡∏Å‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏</li>
<li>‡∏≠‡πà‡∏≤‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</li>
</ul></li>
<li><p><strong>‡πÉ‡∏ä‡πâ limit ‡∏™‡∏π‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô</strong></p>

<ul>
<li>limit=1000 ‡∏à‡∏∞‡∏ä‡πâ‡∏≤‡∏Å‡∏ß‡πà‡∏≤ limit=100</li>
<li>‡πÉ‡∏ä‡πâ‡πÅ‡∏Ñ‡πà‡∏û‡∏≠‡∏î‡∏µ‡∏Å‡∏±‡∏ö‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£</li>
</ul></li>
<li><p><strong>‡πÉ‡∏ä‡πâ image_url ‡∏ó‡∏µ‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ</strong></p>

<ul>
<li>URL ‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡πá‡∏ô Public ‡∏´‡∏£‡∏∑‡∏≠ Presigned URL ‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏î‡πâ</li>
<li>‡∏ñ‡πâ‡∏≤ URL ‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á ‡∏à‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ AI Audit ‡∏•‡πâ‡∏°‡πÄ‡∏´‡∏•‡∏ß</li>
<li>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ URL ‡∏¢‡∏±‡∏á‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÑ‡∏î‡πâ (‡πÑ‡∏°‡πà‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏¢‡∏∏) ‡∏Å‡πà‡∏≠‡∏ô‡∏™‡πà‡∏á</li>
</ul></li>
</ol>

<hr />

<h2 id="‡∏ï‡∏ß‡∏≠‡∏¢‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πÑ‡∏Ç">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</h2>

<h3 id="‡∏Ç‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡∏≠‡∏°‡∏•‡∏ó‡∏™‡∏á‡πÑ‡∏õ‡πÅ‡∏•‡∏ß">‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏™‡πà‡∏á‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß</h3>

<div class="codehilite">
<pre><span></span><code><span class="c1">// 1. ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/api/integration/bma/transaction?limit=100&#39;</span><span class="p">);</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>

<span class="c1">// 2. ‡∏ß‡∏ô‡∏•‡∏π‡∏õ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ö‡πâ‡∏≤‡∏ô</span>
<span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">const</span><span class="w"> </span><span class="nx">version</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">transactions</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">const</span><span class="w"> </span><span class="nx">origin</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">transactions</span><span class="p">[</span><span class="nx">version</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">const</span><span class="w"> </span><span class="nx">houseId</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">transactions</span><span class="p">[</span><span class="nx">version</span><span class="p">][</span><span class="nx">origin</span><span class="p">])</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">house</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">transactions</span><span class="p">[</span><span class="nx">version</span><span class="p">][</span><span class="nx">origin</span><span class="p">][</span><span class="nx">houseId</span><span class="p">];</span>
<span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">audit</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">house</span><span class="p">.</span><span class="nx">audit</span><span class="p">;</span>

<span class="w">      </span><span class="c1">// 3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞ AI Audit</span>
<span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">audit</span><span class="p">.</span><span class="nx">ai_audit</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;rejected&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`‡∏ö‡πâ‡∏≤‡∏ô </span><span class="si">${</span><span class="nx">houseId</span><span class="si">}</span><span class="sb"> ‡πÑ‡∏°‡πà‡∏ú‡πà‡∏≤‡∏ô AI Audit`</span><span class="p">);</span>

<span class="w">        </span><span class="c1">// 4. ‡∏î‡∏π‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">audit</span><span class="p">.</span><span class="nx">overall_violations</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">&quot;‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ:&quot;</span><span class="p">,</span><span class="w"> </span><span class="nx">audit</span><span class="p">.</span><span class="nx">overall_violations</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="c1">// 5. ‡∏î‡∏π‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡∏¢‡∏∞</span>
<span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kd">const</span><span class="w"> </span><span class="nx">materialType</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nx">audit</span><span class="p">.</span><span class="nx">materials</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="kd">const</span><span class="w"> </span><span class="nx">material</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">audit</span><span class="p">.</span><span class="nx">materials</span><span class="p">[</span><span class="nx">materialType</span><span class="p">];</span>
<span class="w">          </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">material</span><span class="p">.</span><span class="nx">violations</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="sb">`‡∏õ‡∏±‡∏ç‡∏´‡∏≤</span><span class="si">${</span><span class="nx">materialType</span><span class="si">}</span><span class="sb">:`</span><span class="p">,</span><span class="w"> </span><span class="nx">material</span><span class="p">.</span><span class="nx">violations</span><span class="p">);</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<hr />

<h2 id="‡∏™‡∏£‡∏õ">‡∏™‡∏£‡∏∏‡∏õ</h2>

<h3 id="api-‡∏ó‡∏á-5-‡∏ï‡∏ß">API ‡∏ó‡∏±‡πâ‡∏á 5 ‡∏ï‡∏±‡∏ß</h3>

<table>
<thead>
<tr>
  <th>Endpoint</th>
  <th>Method</th>
  <th>‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå</th>
</tr>
</thead>
<tbody>
<tr>
  <td><code>/audit_status</code></td>
  <td>GET</td>
  <td>‡∏î‡∏π‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Å‡∏≤‡∏£ Audit</td>
</tr>
<tr>
  <td><code>/usage</code></td>
  <td>GET</td>
  <td>‡∏î‡∏π‡πÇ‡∏Ñ‡∏ß‡∏ï‡πâ‡∏≤</td>
</tr>
<tr>
  <td><code>/transaction</code></td>
  <td>POST</td>
  <td>‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ç‡∏¢‡∏∞ (batch)</td>
</tr>
<tr>
  <td><code>/transaction</code></td>
  <td>GET</td>
  <td>‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</td>
</tr>
<tr>
  <td><code>/transaction/{version}/{id}</code></td>
  <td>GET</td>
  <td>‡∏î‡∏π‡∏ö‡πâ‡∏≤‡∏ô‡πÄ‡∏à‡∏≤‡∏∞‡∏à‡∏á</td>
</tr>
</tbody>
</table>

<h3 id="‡∏Ñ‡∏≤‡∏™‡∏≤‡∏Ñ‡∏ç‡∏ó‡∏ï‡∏≠‡∏á‡∏à‡∏≤">‡∏Ñ‡πà‡∏≤‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏≥</h3>

<ul>
<li><strong>origin_id</strong>: 2170 ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô</li>
<li><strong>house_id</strong>: ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ 11 ‡∏´‡∏•‡∏±‡∏Å (00000000001)</li>
<li><strong>‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</strong>: ‡πÉ‡∏ä‡πâ <code>ai_audit</code> ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà <code>status</code></li>
<li><strong>‡∏Ç‡∏¢‡∏∞</strong>: general, organic, recyclable, hazardous</li>
</ul>

<h3 id="link-‡∏™‡∏≤‡∏Ñ‡∏ç">Link ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç</h3>

<ul>
<li><strong>Swagger UI</strong>: https://api.geppdata.com/v1/docs/bma/0a70bf9ef2fcb7c2dc6c2b046ebb052c</li>
<li><strong>JWT Token</strong>: [‡πÉ‡∏ä‡πâ Token ‡∏ó‡∏µ‡πà‡πÉ‡∏´‡πâ‡πÑ‡∏ß‡πâ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô]</li>
</ul>

<hr />

<p><strong>‡∏´‡∏≤‡∏Å‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏™‡∏á‡∏™‡∏±‡∏¢:</strong><br />
- ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡∏ó‡∏µ‡∏°‡∏á‡∏≤‡∏ô GEPP Sa-Ard </p>

    </div>

    <script>
        // Copy JWT Token function
        function copyJWT() {
            const jwtToken = document.getElementById('jwt-token');
            const copyBtn = document.querySelector('.copy-jwt-btn');
            const feedback = document.getElementById('copy-feedback');

            if (jwtToken) {
                // Get the text content (this will be without line breaks)
                const text = jwtToken.textContent;

                // Copy to clipboard
                navigator.clipboard.writeText(text).then(() => {
                    // Show feedback
                    copyBtn.style.display = 'none';
                    feedback.classList.add('show');

                    // Hide feedback after 2 seconds
                    setTimeout(() => {
                        feedback.classList.remove('show');
                        copyBtn.style.display = 'block';
                    }, 2000);
                }).catch(err => {
                    console.error('Failed to copy:', err);
                    alert('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á');
                });
            }
        }

        // Allow selecting JWT by clicking
        document.addEventListener('DOMContentLoaded', () => {
            const jwtToken = document.getElementById('jwt-token');
            if (jwtToken) {
                jwtToken.addEventListener('click', () => {
                    const selection = window.getSelection();
                    const range = document.createRange();
                    range.selectNodeContents(jwtToken);
                    selection.removeAllRanges();
                    selection.addRange(range);
                });
            }
        });

        // Smooth scroll for anchors
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth'
                    });
                }
            });
        });
    </script>
</body>
</html>